"use strict";var _createClass=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var DBHelper=function(){function u(){_classCallCheck(this,u)}return _createClass(u,null,[{key:"fetchRestaurants",value:function(){return fetch(u.DATABASE_URL).then(function(t){return t.json()}).catch(function(t){return console.error("Request failed. Returned status of "+t)})}},{key:"fetchRestaurantById",value:function(e){return fetch(u.DATABASE_URL).then(function(t){return t.json()}).then(function(t){return t.restaurants[e-1]}).catch(function(t){return console.error("Restaurant does not exist: "+t)})}},{key:"fetchRestaurantByCuisine",value:function(e){return u.fetchRestaurants().then(function(t){return t.restaurants.filter(function(t){return t.cuisine_type==e})}).catch(function(t){return console.error(t)})}},{key:"fetchRestaurantByNeighborhood",value:function(e){return u.fetchRestaurants().then(function(t){return t.restaurants.filter(function(t){return t.neighborhood==e})}).catch(function(t){return console.error(t)})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(n,r){return u.fetchRestaurants().then(function(t){var e=t.restaurants;return"all"!==n&&(e=t.restaurants.filter(function(t){return t.cuisine_type==n})),"all"!==r&&(e=t.restaurants.filter(function(t){return t.neighborhood==r})),e}).catch(function(t){return console.error(t)})}},{key:"fetchNeighborhoods",value:function(){return u.fetchRestaurants().then(function(t){var n=t.restaurants.map(function(t){return t.neighborhood});return n.filter(function(t,e){return n.indexOf(t)==e})}).catch(function(t){return console.error(t)})}},{key:"fetchCuisines",value:function(){return u.fetchRestaurants().then(function(t){var n=t.restaurants.map(function(t){return t.cuisine_type});return n.filter(function(t,e){return n.indexOf(t)==e})}).catch(function(t){return console.error(t)})}},{key:"urlForRestaurant",value:function(t){return"restaurant.html?id="+t.id}},{key:"imageUrlForRestaurant",value:function(t){return"assets/img/jpg/"+t.photograph}},{key:"imageWebpUrlForRestaurant",value:function(t){return"assets/img/webp/"+t.photograph}},{key:"mapMarkerForRestaurant",value:function(t,e){return new google.maps.Marker({position:t.latlng,title:t.name,url:u.urlForRestaurant(t),map:e,animation:google.maps.Animation.DROP})}},{key:"switchLoaderToMap",value:function(){document.getElementById("map").classList.contains("hidden")&&(document.getElementById("map").classList.remove("hidden"),document.getElementById("map-loader").classList.add("hidden"))}},{key:"DATABASE_URL",get:function(){return"data/restaurants.json"}}]),u}();